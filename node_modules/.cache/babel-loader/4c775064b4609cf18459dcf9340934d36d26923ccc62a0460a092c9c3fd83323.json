{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function msToMinutes(ms){return Math.round(ms/60000);}export default function App(){const[goal,setGoal]=useState(60);const[siteInput,setSiteInput]=useState('');const[trackedSites,setTrackedSites]=useState([]);const[todayData,setTodayData]=useState({});useEffect(()=>{chrome.storage.local.get(['dailyGoal','trackedSites','trackedData'],res=>{if(res.dailyGoal)setGoal(res.dailyGoal);if(res.trackedSites)setTrackedSites(res.trackedSites);if(res.trackedData){const today=new Date().toISOString().slice(0,10);setTodayData(res.trackedData[today]||{});}});},[]);useEffect(()=>{const listener=(changes,area)=>{if(area==='local'&&changes.trackedData){const today=new Date().toISOString().slice(0,10);setTodayData(changes.trackedData.newValue[today]||{});}};chrome.storage.onChanged.addListener(listener);return()=>chrome.storage.onChanged.removeListener(listener);},[]);function saveGoal(){chrome.storage.local.set({dailyGoal:goal});}function addSite(){const domain=siteInput.trim().replace(/^https?:\\/\\//,'').replace(/\\/.*$/,'');if(!domain)return;const normalized=domain.replace('www.','');if(!trackedSites.includes(normalized)){const next=[...trackedSites,normalized];setTrackedSites(next);chrome.storage.local.set({trackedSites:next});}setSiteInput('');}function removeSite(d){const next=trackedSites.filter(s=>s!==d);setTrackedSites(next);chrome.storage.local.set({trackedSites:next});}return/*#__PURE__*/_jsxs(\"div\",{style:{width:320,padding:16,fontFamily:'Inter,Arial'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Productivity Tracker\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Daily goal (minutes)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,marginTop:6},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:goal,onChange:e=>setGoal(Number(e.target.value)),style:{flex:1,padding:8}}),/*#__PURE__*/_jsx(\"button\",{onClick:saveGoal,children:\"Save\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Add site to track\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,marginTop:6},children:[/*#__PURE__*/_jsx(\"input\",{value:siteInput,onChange:e=>setSiteInput(e.target.value),placeholder:\"example.com\",style:{flex:1,padding:8}}),/*#__PURE__*/_jsx(\"button\",{onClick:addSite,children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:trackedSites.map(s=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginTop:6},children:[/*#__PURE__*/_jsx(\"span\",{children:s}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeSite(s),children:\"Remove\"})]},s))})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Today's activity\"}),Object.keys(todayData).length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No tracked activity yet.\"}),Object.entries(todayData).map(_ref=>{let[domain,ms]=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{children:domain}),/*#__PURE__*/_jsxs(\"span\",{children:[msToMinutes(ms),\" min\"]})]},domain);})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","msToMinutes","ms","Math","round","App","goal","setGoal","siteInput","setSiteInput","trackedSites","setTrackedSites","todayData","setTodayData","chrome","storage","local","get","res","dailyGoal","trackedData","today","Date","toISOString","slice","listener","changes","area","newValue","onChanged","addListener","removeListener","saveGoal","set","addSite","domain","trim","replace","normalized","includes","next","removeSite","d","filter","s","style","width","padding","fontFamily","children","marginBottom","display","gap","marginTop","type","value","onChange","e","Number","target","flex","onClick","placeholder","map","justifyContent","Object","keys","length","entries","_ref"],"sources":["C:/Users/hi/OneDrive/Desktop/productivity-extension-fixed/src/App.js"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react';\n\nfunction msToMinutes(ms) {\n  return Math.round(ms / 60000);\n}\n\nexport default function App() {\n  const [goal, setGoal] = useState(60);\n  const [siteInput, setSiteInput] = useState('');\n  const [trackedSites, setTrackedSites] = useState([]);\n  const [todayData, setTodayData] = useState({});\n\n  useEffect(() => {\n    chrome.storage.local.get(['dailyGoal','trackedSites','trackedData'], (res) => {\n      if (res.dailyGoal) setGoal(res.dailyGoal);\n      if (res.trackedSites) setTrackedSites(res.trackedSites);\n      if (res.trackedData) {\n        const today = new Date().toISOString().slice(0,10);\n        setTodayData(res.trackedData[today] || {});\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    const listener = (changes, area) => {\n      if (area === 'local' && changes.trackedData) {\n        const today = new Date().toISOString().slice(0,10);\n        setTodayData(changes.trackedData.newValue[today] || {});\n      }\n    };\n    chrome.storage.onChanged.addListener(listener);\n    return () => chrome.storage.onChanged.removeListener(listener);\n  }, []);\n\n  function saveGoal() {\n    chrome.storage.local.set({ dailyGoal: goal });\n  }\n\n  function addSite() {\n    const domain = siteInput.trim().replace(/^https?:\\/\\//,'').replace(/\\/.*$/,'');\n    if (!domain) return;\n    const normalized = domain.replace('www.','');\n    if (!trackedSites.includes(normalized)) {\n      const next = [...trackedSites, normalized];\n      setTrackedSites(next);\n      chrome.storage.local.set({ trackedSites: next });\n    }\n    setSiteInput('');\n  }\n\n  function removeSite(d) {\n    const next = trackedSites.filter(s => s !== d);\n    setTrackedSites(next);\n    chrome.storage.local.set({ trackedSites: next });\n  }\n\n  return (\n    <div style={{width:320,padding:16,fontFamily:'Inter,Arial'}}>\n      <h2>Productivity Tracker</h2>\n\n      <div style={{marginBottom:12}}>\n        <label>Daily goal (minutes)</label>\n        <div style={{display:'flex',gap:8,marginTop:6}}>\n          <input type=\"number\" value={goal} onChange={e=>setGoal(Number(e.target.value))} style={{flex:1,padding:8}} />\n          <button onClick={saveGoal}>Save</button>\n        </div>\n      </div>\n\n      <div style={{marginBottom:12}}>\n        <label>Add site to track</label>\n        <div style={{display:'flex',gap:8,marginTop:6}}>\n          <input value={siteInput} onChange={e=>setSiteInput(e.target.value)} placeholder=\"example.com\" style={{flex:1,padding:8}} />\n          <button onClick={addSite}>Add</button>\n        </div>\n        <div style={{marginTop:8}}>\n          {trackedSites.map(s=>(\n            <div key={s} style={{display:'flex',justifyContent:'space-between',marginTop:6}}>\n              <span>{s}</span>\n              <button onClick={()=>removeSite(s)}>Remove</button>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <h3>Today's activity</h3>\n      {Object.keys(todayData).length===0 && <p>No tracked activity yet.</p>}\n      {Object.entries(todayData).map(([domain, ms])=>(\n        <div key={domain} style={{display:'flex',justifyContent:'space-between'}}>\n          <span>{domain}</span>\n          <span>{msToMinutes(ms)} min</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}